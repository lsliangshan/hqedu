<!DOCTYPE html>
	<html>
		<head>
			<title>Test</title>
		</head>
		<body>
			<div id="container">test</div>
			<img src="" id="code">
		</body>
    <script type="text/javascript" src="/static/js/jquery.1.9.1.js"></script>
    <script type="text/javascript" src="/static/js/jquery.xdomainrequest.min.js"></script>
		<script type="text/javascript">
      // $("#code").attr('src', 'https://www.baidu.com/img/superlogo_c4d7df0a003d3db9b65e9ef0fe6da1ec.png?where=super');
      $.ajax({
        type: 'GET',
        url: 'http://api.hqwxedu.cn/spreead/code?ts=' + (new Date().getTime()),
        dataType: 'json',
        crossDomain: true,
        // dataType: 'jsonp',
        cache: false,
        success: function (res) {
          $("#code").attr('src', res.data.verifyCodeStr)
          $("#container").html(res.data.verifyCodeStr)
        },
        error: function (err) {

        }
      })
      // document.getElementById("code").setAttribute('src', 'https://www.baidu.com/img/superlogo_c4d7df0a003d3db9b65e9ef0fe6da1ec.png?where=super');
// 			function Ajax(args){
// 			  var xmlHttpReq = null;  //声明一个空对象用来装入XMLHttpRequest
// 			  if (window.ActiveXObject){//IE5 IE6是以ActiveXObject的方式引入XMLHttpRequest的
// 			    xmlHttpReq = new ActiveXObject("Microsoft.XMLHTTP");
// 			  }
// 			  else if (window.XMLHttpRequest){//除IE5 IE6 以外的浏览器XMLHttpRequest是window的子对象
// 			    xmlHttpReq = new XMLHttpRequest();//实例化一个XMLHttpRequest
// 			  }
// 			  if(xmlHttpReq != null){  //如果对象实例化成功
// 			    xmlHttpReq.open("GET", args.url,true);  //调用open()方法并采用异步方式
// 			    xmlHttpReq.onreadystatechange=RequestCallBack; //设置回调函数
// 			    xmlHttpReq.send(null);  //因为使用get方式提交，所以可以使用null参调用
// 			  }
// 			  function RequestCallBack(){//一旦readyState值改变，将会调用这个函数
// 			    if(xmlHttpReq.readyState == 4){
// 			        if(xmlHttpReq.status == 200){
// 			          //将xmlHttpReq.responseText的值赋给ID为 resText 的元素
// 			          args.callback && args.callback(xmlHttpReq.responseText)
// 			        }
// 			    }
// 			  }
// 			}
// Ajax({
// 	url: "http://api.hqwxedu.cn/spreead/code",
// 	callback: function (res) {
// 		// document.getElementById('container').innerHTML = JSON.parse(res).data.verifyCodeStr;
//           document.getElementById("code").setAttribute('src', JSON.parse(res).data.verifyCodeStr);
// 	}
// })
		</script>
	</html>
